<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        *{
            padding: 0;
            margin: 0;
            border: 0;
            font:inherit; /* 继承父容器字体 */
            vertical-align: baseline;/* Y轴对齐 */
            box-sizing:border-box;
        }
        html{
            height: 100%;
        }
        body{
            height: 100%;
            overflow: hidden;
            font: 100%/1.25 Helvetica,Arial;/* 字体大小+字体 */
            color: #fff;
            perspective: 1000px;/* 透视度 */
            background-color: #444;
            background-image: -webkit-gradient(linear,left top,left bottom,from(#444),to(#999));
            /* 谷歌浏览器兼容：-wedkit */
            /* background-image: -webkit-linear-gradient(top,#444,#999)； */
            /* background-image: linear-gradient(top bottom,#444,#999); */
            /* 第三种方法最常用，前两种均考虑到版本兼容 */
        }
        .book{
            width: 300px;
            height: 300px;
            margin-top: -150px;
            position: absolute;
            left: 50%;
            top:50%;
            transform: rotateX(60deg);
            user-select: none;
            /* 让文本不能被选择 */
        }
        .page{
            width: 300px;
            height: 300px;
            padding: 1em;
            position: absolute;
            left: 0;
            top: 0;
            text-indent:2em;
        }
        .front{
            background-color: #d93e2b;
        }
        .back{
            background-color: #fff;
        }
        .front-cover{
            cursor: move;
            /* 鼠标变成十字架形状 */
            transform-origin: 0 50%;
            transform: rotateY(0deg);
        }
        .front-cover .back{
            transform: translateZ(3px);
            background-image:url(/user.jpg);
            background-repeat: no-repeat;
            background-position: 50% 50%;
        }
        .back-cover .back{
            transform: translateZ(-3px);

        }
        .p3d{
            transform-style: preserve-3d;

        }
        .flip{
            transform: rotateY(180deg);
        }
        .dino,.shadow{
            width: 196px;
            height: 132px;
            position: absolute;
            left: 60px;
            top: 60px;
            transform-origin: 0 100%;
        }
        .dino{
            background: url(/user.jpg);
            background-repeat: no-repeat;
            background-size: cover;

        }
        .shadow{
            background-color: rgba(0,0,0,.5);
        }
    </style>
</head>
<body>
    <div class="book p3d">
        <div class="back-cover p3d">
            <div class="page back flip"></div>
            <div class="page front p3d">
                <div class="shadow"></div>
                <div class="dino"></div>
            </div>
        </div>
        <div class="front-cover p3d">
            <div class="page front flip p3d">
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fermentum nisl quis nulla eleifend dignissim.
                    Curabitur varius lobortis tincidunt. Maecenas gravida, nulla quis luctus imperdiet, ipsum nibh consectetur
                    ante, in sodales massa tortor eget neque. Donec porta ligula massa, id sagittis est. Ut nisl tellus, faucibus
                    nec feugiat ut, laoreet iaculis felis. Suspendisse ultrices mauris vel tellus suscipit commodo. Integer vitae
                    tortor erat. Pellentesque non tempor nisi.
                </p>
            </div>
        <div class="page back"></div>
        </div>
    </div>
    <script>
        (function(window,document){
            var prefixes=['webkit','Moz','ms','o',''],
            book = document.querySelectorAll('.book')[0],
            page = document.querySelectorAll('.front-cover')[0],
            dino = document.querySelectorAll('.dino')[0],
            shadow = document.querySelectorAll('.shadow')[0],
            hold = false,
            centerPoint = window.innerWidth/2,
            pageSize =300,
            clamp = function(val,min,max){
                return Math.max(min,Math.min(val,max))
            }
            //鼠标按下执行的事件
            page.onmousedown = function(){
                hold = true    
            }
            // 放开鼠标执行的事件
            window.onmouseup = function(){
                if(hold){
                    hold = false
                }
            }
            //在窗口被调整大小的时候执行的事件
            window.onresize = function(){
                centerPoint = window.innerWidth/2
                // console.log(centerPoint)
            }
            //鼠标移动的时候执行的事件
            window.onmousemove = function(evt){//evt参数都有,看你用不用,用就要写
                if(!hold){
                    return
                }
                // console.log(evt.pageX)
                var angle = clamp((centerPoint-evt.pageX+pageSize)/pageSize*-90,-180,0),
                i,
                j;

                for(i=0,j=prefixes.length;i<j;i++){
                    book.style[prefixes[i]+'Transform'] = `rotateX(${60+angle/8}deg)`//除以8翻书效果更好
                    page.style[prefixes[i]+'Transform'] = `rotateY(${angle}deg)`
                    dino.style[prefixes[i]+'Transform'] = `rotateX(${angle/2}deg)`
                    shadow.style[prefixes[i]+'Transform'] = `translateZ(2px) skewX(${angle/8}deg)`//阴影向后移1px 并倾斜
                }
            }
        })(window,document)
    </script>
</body>
</html>